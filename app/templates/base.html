<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Dashboard{% endblock %}</title>

  <!-- AdminLTE + dependencies (CDN) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css">
</head>
<body class="hold-transition sidebar-mini">
<div class="wrapper">

  <style>
    :root {
      --surface: #ffffff;
      --surface-alt: #f4f6f9;
      --accent: #2f80ed;
      --text-strong: #111827;
      --text-muted: #6b7280;
    }

    body .content-wrapper {
      background: linear-gradient(140deg, #f7f9fc 0%, #eef2f7 100%);
    }

    .overview-hero {
      background: linear-gradient(135deg, #ffffff 0%, #edf4ff 100%);
      border: 1px solid rgba(15, 23, 42, 0.08);
    }

    .overview-hero h2 {
      color: var(--text-strong);
      letter-spacing: -0.5px;
    }

    .overview-hero p {
      color: var(--text-muted);
    }

    .overview-pill {
      border-radius: 999px;
      padding: 0.35rem 0.75rem;
      background: rgba(47, 128, 237, 0.12);
      color: #1d4ed8;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }

    .card-elevated {
      box-shadow: 0 12px 24px rgba(15, 23, 42, 0.08);
      border: 1px solid rgba(15, 23, 42, 0.06);
    }

    body.dark-mode .content-wrapper {
      background: linear-gradient(140deg, #0f172a 0%, #111827 100%);
    }

    body.dark-mode .overview-hero {
      background: linear-gradient(135deg, #111827 0%, #1f2937 100%);
      border-color: rgba(148, 163, 184, 0.2);
    }

    body.dark-mode .overview-hero h2 {
      color: #f9fafb;
    }

    body.dark-mode .overview-hero p {
      color: #cbd5f5;
    }

    body.dark-mode .overview-pill {
      background: rgba(59, 130, 246, 0.2);
      color: #bfdbfe;
    }
  </style>

  <nav id="mainNavbar" class="main-header navbar navbar-expand navbar-white navbar-light">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="/" class="nav-link">Home</a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="/upload/" class="nav-link">Upload</a>
      </li>
    </ul>
  </nav>

  <aside id="mainSidebar" class="main-sidebar sidebar-light-primary elevation-4">
    <a href="/" class="brand-link">
      <span class="brand-text font-weight-light">WhatsApp OCR</span>
    </a>
    <div class="sidebar">
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column">
          <li class="nav-item"><a href="/" class="nav-link"><i class="nav-icon fas fa-home"></i><p>Dashboard</p></a></li>
          <li class="nav-item"><a href="/upload/" class="nav-link"><i class="nav-icon fas fa-upload"></i><p>Upload Screenshots</p></a></li>
        </ul>
      </nav>
    </div>
  </aside>

  <div class="content-wrapper">
    <section class="content pt-3">
      <div class="container-fluid">
        {% block content %}{% endblock %}
      </div>
    </section>
  </div>

  <footer class="main-footer d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center">
    <strong>Designed and developed by <a href="https://lucifer01430.github.io/Portfolio" target="_blank" rel="noopener">Harsh Pandey</a></strong>
    <button id="themeToggle" class="btn btn-sm btn-outline-secondary mt-2 mt-md-0" type="button">
      <i class="fas fa-moon"></i> Dark mode
    </button>
  </footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
<script>
  (function () {
    var body = document.body;
    var toggle = document.getElementById("themeToggle");
    var navbar = document.getElementById("mainNavbar");
    var sidebar = document.getElementById("mainSidebar");
    var storageKey = "whatsapp_ocr_theme";

    function applyTheme(theme) {
      var isDark = theme === "dark";
      body.classList.toggle("dark-mode", isDark);
      navbar.classList.toggle("navbar-dark", isDark);
      navbar.classList.toggle("navbar-white", !isDark);
      navbar.classList.toggle("navbar-light", !isDark);
      sidebar.classList.toggle("sidebar-dark-primary", isDark);
      sidebar.classList.toggle("sidebar-light-primary", !isDark);
      toggle.innerHTML = isDark
        ? '<i class="fas fa-sun"></i> Light mode'
        : '<i class="fas fa-moon"></i> Dark mode';
    }

    var savedTheme = localStorage.getItem(storageKey);
    applyTheme(savedTheme || "light");

    toggle.addEventListener("click", function () {
      var nextTheme = body.classList.contains("dark-mode") ? "light" : "dark";
      localStorage.setItem(storageKey, nextTheme);
      applyTheme(nextTheme);
    });
  })();
</script>
</body>
</html>
